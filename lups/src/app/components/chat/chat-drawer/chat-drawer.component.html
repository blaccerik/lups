<div class="drawer-container">
  <div class="drawer-title">
    SEADED
  </div>
  <form [formGroup]="form" class="settings-container">
    <div class="settings-box" style="background-color: gold; border-color: goldenrod">
      <mat-icon class="settings-box-icon">memory</mat-icon>
      <div class="settings-box-title">Mudel</div>
      <mat-icon class="settings-box-info"
                matTooltip="Vali mudeli suurus.
                  Suuremad mudelid genereerivad parema vastuse, kuid aeglasemini"
                matTooltipShowDelay="100">help_outline
      </mat-icon>
      <mat-form-field class="settings-box-input" appearance="outline">
        <mat-label>Vali mudel</mat-label>
        <mat-select formControlName="model" (selectionChange)="onSubmit()">
          <mat-option *ngFor="let mdl of models" [value]="mdl.value">{{ mdl.display }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="settings-box" style="background-color: deepskyblue; border-color: cornflowerblue">
      <mat-icon class="settings-box-icon">language</mat-icon>
      <div class="settings-box-title">Keel</div>
      <mat-icon class="settings-box-info"
                matTooltip="Vali mudeli sisend ja vÃ¤ljastus keel. Eesti keelega genereeritakse vastust kauem"
                matTooltipShowDelay="100">help_outline
      </mat-icon>
      <mat-form-field class="settings-box-input" appearance="outline">
        <mat-label>Vali keel</mat-label>
        <mat-select formControlName="language" (selectionChange)="onSubmit()">
          <mat-option *ngFor="let lang of languages"
                      [value]="lang.value">{{ lang.display }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </form>
  <div class="drawer-title">
    VESTLUSED
  </div>
  <div class="chats-container">
    <div *ngFor="let chat of chatService.chats()">
      <div *ngIf="!chat.editing"
           [ngClass]="{'chats-selected': chat.chat_id === chatId()}"
           (click)="selectChat(chat.chat_id)"
           class="chats-box"
      >
        <div class="chats-title">
          {{chat.title}}
        </div>
        <button class="chats-button" mat-icon-button matTooltip="Muuda" (click)="toggleEdit(chat)">
          <mat-icon>edit</mat-icon>
        </button>
      </div>
      <div *ngIf="chat.editing" class="chats-box">
        <input
          class="chats-input"
          type="text"
          [value]="chat.title"
          (input)="onTitleChange($event, chat)"
          maxlength="50"
        />
        <button class="chats-button" mat-icon-button matTooltip="Muuda" (click)="toggleEdit(chat)">
          <mat-icon>done</mat-icon>
        </button>
      </div>
    </div>
  </div>
</div>
